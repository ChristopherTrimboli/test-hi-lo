(this.webpackJsonpsimpreact=this.webpackJsonpsimpreact||[]).push([[0],{26:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"OBJECT",(function(){return O})),n.d(r,"ARRAY",(function(){return b}));var a={};n.r(a),n.d(a,"push",(function(){return g})),n.d(a,"replace",(function(){return E})),n.d(a,"replaceAbs",(function(){return m})),n.d(a,"up",(function(){return T})),n.d(a,"setLinks",(function(){return S}));var o={};n.r(o),n.d(o,"startLoad",(function(){return J})),n.d(o,"loadSuccess",(function(){return z})),n.d(o,"loadError",(function(){return X})),n.d(o,"submit",(function(){return Q})),n.d(o,"submitSuccess",(function(){return W})),n.d(o,"submitError",(function(){return Z})),n.d(o,"changeFilter",(function(){return $})),n.d(o,"mergeFilter",(function(){return ee})),n.d(o,"setFilter",(function(){return te})),n.d(o,"changeSort",(function(){return ne})),n.d(o,"localSort",(function(){return re})),n.d(o,"changePage",(function(){return ae})),n.d(o,"set",(function(){return oe})),n.d(o,"setPath",(function(){return ue})),n.d(o,"merge",(function(){return ce})),n.d(o,"validationErrors",(function(){return ie})),n.d(o,"invalidate",(function(){return le})),n.d(o,"reset",(function(){return de})),n.d(o,"del",(function(){return se})),n.d(o,"setMain",(function(){return ve})),n.d(o,"select",(function(){return fe})),n.d(o,"push",(function(){return pe})),n.d(o,"shift",(function(){return Oe}));var u={};n.r(u),n.d(u,"filteredResourceReducer",(function(){return ge})),n.d(u,"resourceReducer",(function(){return Ee})),n.d(u,"valueReducer",(function(){return Ce})),n.d(u,"formReducer",(function(){return xe}));var c,i=n(1),l=n.n(i),d=n(16),s=n.n(d),v=n(13),f=n(2),p=n(4),O=Object.freeze({}),b=Object.freeze([]),j={ROOT:"root"},h="pathParams",y="auth";!function(e){e.ROUTE_ACTION_TYPE="@@Router/CALL_HISTORY_METHOD",e.ROUTE_ACTION_TYPE_ABS="@@Router/CALL_HISTORY_METHOD_ABS",e.ROUTE_ACTION_TYPE_UP="@@Router/CALL_HISTORY_METHOD_UP",e.ROUTE_ACTION_SET_LINKS="@@Router/SET_LINKS"}(c||(c={}));var g=function(e,t){return{type:c.ROUTE_ACTION_TYPE,payload:{method:"push",link:e,payload:t}}},E=function(e,t){return{type:c.ROUTE_ACTION_TYPE,payload:{method:"replace",link:e,payload:t}}},m=function(e,t){return{type:c.ROUTE_ACTION_TYPE_ABS,payload:{method:"replace",link:e,payload:t}}},T=function(e,t){return{type:c.ROUTE_ACTION_TYPE_UP,payload:{count:e,method:t}}},S=function(e){return{type:c.ROUTE_ACTION_SET_LINKS,payload:e}},_="SET_FILTER",R="CHANGE_SORT",A="CHANGE_PAGE",I="START_LOAD",k="LOAD_SUCCESS",x="LOAD_ERROR",C="SUBMIT",L="SUBMIT_SUCCESS",N="SUBMIT_ERROR",U="START_RELOAD",w="LOCAL_SORT",P="INVALIDATE",F="SET",H="SET_PATH",Y="MERGE",B="TOUCH_SET",M="TOUCH_SET_PATH",q="TOUCH_MERGE",D="RESET",V="VALIDATION_ERRORS",K="SHIFT",G=0,J=function(e,t){return{space:e,type:I,payload:{reqId:null!==t&&void 0!==t?t:String(G++)}}},z=function(e,t,n){return{space:e,type:k,payload:{value:t,reqId:n}}},X=function(e,t,n){return{space:e,type:x,payload:{error:t,reqId:n}}},Q=function(e){return{space:e,type:C}},W=function(e,t){return{space:e,type:L,payload:t}},Z=function(e,t){return{space:e,type:N,payload:t}},$=function(e,t){return{space:e,type:"CHANGE_FILTER",payload:t}},ee=function(e,t){return{space:e,type:"MERGE_FILTER",payload:t}},te=function(e,t){return{space:e,type:_,payload:t}},ne=function(e,t){return{space:e,type:R,payload:t}},re=function(e,t){return{space:e,type:w,payload:t}},ae=function(e,t){return{space:e,type:A,payload:t}},oe=function(e,t){return{space:e,type:F,payload:t}},ue=function(e,t,n){return{space:e,type:H,payload:{path:t,value:n}}},ce=function(e,t){return{space:e,type:Y,payload:t}},ie=function(e,t){return{space:e,type:V,payload:t}},le=function(e){return{space:e,type:P}},de=function(e){return{space:e,type:D}},se=function(e,t){return{space:e,type:"DEL",payload:t}},ve=function(e,t){return{space:e,type:"SET_MAIN",payload:t}},fe=function(e,t){return{space:e,type:"SELECT",payload:t}},pe=function(e,t){return{space:e,type:"PUSH",payload:t}},Oe=function(e){return{space:e,type:"SHIFT"}},be=n(0),je=function(e,t){return Number.isFinite(e)&&Number.isFinite(t)?e-t:e.localeCompare(t)},he=function(e,t,n){return Object(p.a)(e).sort(n?function(e,n){var r=e[t],a=n[t];return je(r,a)}:function(e,n){var r=e[t],a=n[t];return je(a,r)})},ye=function(e,t){if(t===e)return!0;if(!t||!e)return!1;var n=Object.entries(e),r=Object.entries(t);return n.length===r.length&&n.every((function(e){var n=Object(f.a)(e,2),r=n[0],a=n[1];return t[r]===a}))},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filter,n=void 0===t?void 0:t,r=e.value,a=void 0===r?null:r,o=e.sort,u=void 0===o?null:o,c={value:a,filter:n,sort:u,pagination:{index:0,length:10}};return function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,r=arguments.length>1?arguments[1]:void 0;switch(null===r||void 0===r?void 0:r.type){case _:var a,o,u=Array.isArray(r.payload)?Object.fromEntries(r.payload.map((function(e){return[e.id,e.value]}))):null!==(a=r.payload)&&void 0!==a?a:{};return ye(u,n.filter)?n:Object(be.a)(Object(be.a)({},n),{},{pagination:{index:0,length:null===n||void 0===n||null===(o=n.pagination)||void 0===o?void 0:o.length},sort:null,filter:u});case R:var i;return Object(be.a)(Object(be.a)({},n),{},{sort:r.payload,pagination:{index:0,length:null===n||void 0===n||null===(i=n.pagination)||void 0===i?void 0:i.length}});case A:var l,d,s=null!==(l=r.payload)&&void 0!==l?l:{},v=s.index,p=s.length,O=null!==(d=null===n||void 0===n?void 0:n.pagination)&&void 0!==d?d:{};return Object(be.a)(Object(be.a)({},n),{},{pagination:{index:p===O.length?v:0,length:p}});case I:return Object(be.a)(Object(be.a)({},n),{},{reqId:null!==(e=r.reqId)&&void 0!==e?e:null,loading:!0,loaded:!1,error:null});case k:if(void 0!==n.reqId&&null!==n.reqId&&n.reqId!==r.reqId)return n;if(void 0!==(null===r||void 0===r||null===(t=r.payload)||void 0===t?void 0:t.rows)){var b=r.payload,j=b.rows,h=b.total;return Object(be.a)(Object(be.a)({},n),{},{loading:!1,loaded:!0,error:null,value:j,total:h})}return Object(be.a)(Object(be.a)({},n),{},{loading:!1,loaded:!0,error:null,value:null===r||void 0===r?void 0:r.payload});case x:return void 0!==n.reqId&&null!==n.reqId&&n.reqId!==r.reqId?n:Object(be.a)(Object(be.a)({},n),{},{loading:!1,loaded:!0,error:null===r||void 0===r?void 0:r.error,value:null,total:null});case U:return Object(be.a)(Object(be.a)({},n),{},{loading:!0,loaded:!1,error:null});case w:var y=r.payload,g=Object.entries(y),E=Object(f.a)(g,1),m=Object(f.a)(E[0],2),T=m[0],S=m[1];return Object(be.a)(Object(be.a)({},n),{},{localSort:y,value:Array.isArray(n.value)?he(n.value,T,S):n.value});case P:return c;default:return n}}},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={value:e};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0;switch(null===n||void 0===n?void 0:n.type){case I:return(null===e||void 0===e?void 0:e.loaded)?e:Object(be.a)(Object(be.a)({},e),{},{loading:!0,loaded:!1});case k:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,loaded:!0,loadError:null,value:null===n||void 0===n?void 0:n.payload});case x:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,loaded:!0,loadError:null===n||void 0===n?void 0:n.payload,value:null});case U:return Object(be.a)(Object(be.a)({},e),{},{loading:!0,loaded:!1});case P:return t;default:return e}}},me=n(10),Te=n(11),Se=n(6),_e=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(a>=n.length)return r;var o=n[a];return Object(be.a)(Object(be.a)({},t),{},Object(Se.a)({},o,e(null===t||void 0===t?void 0:t[o],n,r,a+1)))},Re=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=n[a],u=a+1;u===n.length?t[o]=r:("object"!==typeof t[o]&&(t[o]={}),e(t[o],n,r,a+1))},Ae=["meta"],Ie=["meta"],ke=function(e,t,n){var r=Object(be.a)(Object(be.a)({},e),{},{changed:!0,touched:!0,value:t});return n||(r.touched=!1,r.submitError=void 0),r},xe=function(e){var t={value:e,originalValue:e,changed:!1,touched:!1};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0;switch(null===n||void 0===n?void 0:n.type){case I:return Object(be.a)(Object(be.a)({},e),{},{loading:!0,loaded:!1,loadError:null,value:void 0,originalValue:void 0,postData:n.postData});case k:var r=Object(be.a)(Object(be.a)({},e),{},{loading:!1,loaded:!0,loadError:null,changed:!1});if("object"===typeof n.payload){var a=n.payload,o=a.meta,u=Object(me.a)(a,Ae);r.meta=o,r.value=u,r.originalValue=u}else r.value=n.payload,r.originalValue=n.payload;return r;case x:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,loaded:!0,loadError:null===n||void 0===n?void 0:n.payload,value:void 0,originalValue:void 0});case U:return Object(be.a)(Object(be.a)({},e),{},{loading:!0,loaded:!1,loadError:null,value:void 0});case B:return ke(e,n.payload,!0);case F:return ke(e,n.payload,!1);case q:var c=Object(Te.a)(e.value,(function(e){return Object(be.a)(Object(be.a)({},e),null===n||void 0===n?void 0:n.payload)}));return c===e.value?e:Object(be.a)(Object(be.a)({},e),{},{changed:!0,touched:!0,value:c});case Y:var i,l=null!==(i=n.payload)&&void 0!==i?i:{},d=l.meta,s=Object(me.a)(l,Ie),v=Object(Te.a)(e.value,(function(e){return Object(be.a)(Object(be.a)({},e),s)})),f=v!==e.value;return f||d?Object(be.a)(Object(be.a)({},e),{},{meta:e.meta?Object(be.a)(Object(be.a)({},e.meta),d):d,changed:f,value:v}):e;case M:var p,O=n.payload,b=O.path,j=O.value,h=Object(Te.a)(null!==(p=e.value)&&void 0!==p?p:{},(function(e){return Re(e,b,j)}));return h===e.value?e:Object(be.a)(Object(be.a)({},e),{},{changed:!0,touched:!0,value:h});case H:var y,g=n.payload,E=g.path,m=g.value,T=Object(Te.a)(null!==(y=e.value)&&void 0!==y?y:{},(function(e){return Re(e,E,m)}));return T===e.value?e:Object(be.a)(Object(be.a)({},e),{},{changed:!0,value:T});case K:return Object(be.a)(Object(be.a)({},e),{},{disabled:n.payload});case C:return e.validationErrors?Object(be.a)(Object(be.a)({},e),{},{submitting:!1,submitted:!0}):Object(be.a)(Object(be.a)({},e),{},{submitting:!0,submitted:!1});case L:return Object(be.a)(Object(be.a)({},e),{},{submitting:!1,submitted:!0,submitError:null});case N:return Object(be.a)(Object(be.a)({},e),{},{submitting:!1,submitted:!0,submitError:null===n||void 0===n?void 0:n.payload});case V:return Object(be.a)(Object(be.a)({},e),{},{validationErrors:null===n||void 0===n?void 0:n.payload});case P:return t;case D:return Object(be.a)(Object(be.a)({},e),{},{value:null===e||void 0===e?void 0:e.originalValue,changed:!1});default:return e}}},Ce=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;switch(null===n||void 0===n?void 0:n.type){case F:return n.payload;case Y:return Object(be.a)(Object(be.a)({},t),n.payload);case D:return e;case H:var r=n.payload,a=r.path,o=r.value;return _e(t,a,o);default:return t}}},Le=n(17),Ne=n(12),Ue=n(18),we=n(5),Pe=n.n(we),Fe=n(7),He=Symbol("FUNC_KEY"),Ye=Symbol("ARGS_KEY"),Be=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=Object(i.useRef)((function(){for(var t,r,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return(null!==(t=o[He])&&void 0!==t?t:e).apply(void 0,Object(p.a)(null!==(r=o[Ye])&&void 0!==r?r:n).concat(u))})),o=a.current;return Object(i.useLayoutEffect)((function(){o[He]=e,o[Ye]=n})),o},Me=(Symbol("FUNC_KEY"),function(e,t){Object(i.useEffect)((function(){e()}),t)});var qe=ge(),De=1,Ve=n(19),Ke=Object(Ve.a)(),Ge=function(e){var t=e.dispatch;return function(e){return Be((function(){t(e.apply(void 0,arguments))}))}},Je=function(e){return e.map((function(e,t){return 0===t?"":null===e||""===e?"_":e})).join("/")},ze=function(e){return e},Xe=function(e){return e},Qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return function(r){return function(a){if(a.type===c.ROUTE_ACTION_SET_LINKS&&(t=a.payload),a.type===c.ROUTE_ACTION_TYPE){var o,u,i,l=a.payload,d=l.link,s=l.method,v=l.payload;if(!d)return console.error('Link "'.concat(d,'" not defined')),r(a);var f=null!==(o=t[d])&&void 0!==o?o:{},p=f.link,O=f.path;if(!p)return console.error('Link "'.concat(d,'" not defined')),r(a);var b=ze(null===(u=e.location)||void 0===u?void 0:u.pathname).split("/"),j=Je(O.map((function(e,t){return null===e?b[t]:e}))),h=null===(i=n.getState())||void 0===i?void 0:i.pathParams,y=null===p||void 0===p?void 0:p(v,h);return e[s](Xe("".concat(j).concat(y))),r(a)}if(a.type===c.ROUTE_ACTION_TYPE_ABS){var g=a.payload,E=g.link,m=g.method;return console.log(a.payload,Xe(E)),e[m](Xe(E)),r(a)}if(a.type===c.ROUTE_ACTION_TYPE_UP){var T,S,_,R,A=null!==(T=a.payload)&&void 0!==T?T:{},I=A.count,k=void 0===I?1:I,x=A.method,C=void 0===x?"push":x,L=null===(S=n.getState())||void 0===S||null===(_=S.router)||void 0===_||null===(R=_.location)||void 0===R?void 0:R.pathname,N=k>0?L.split("/").slice(0,-k).join("/"):L;return e[C](Xe(N)),r(a)}return r(a)}}}},We=function(e){var t=e.addReducer,n=e.dispatch;return function(e,r){Object(i.useEffect)((function(){return t(e,r,n)}),[e,r])}},Ze=Ee(),$e=1,et=function(e){var t=e.useReducer,n=e.dispatch;return function(e,r){t(e,Ze),Me(Object(Fe.a)(Pe.a.mark((function t(){var a,o;return Pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=13;break}return a=String($e++),t.prev=2,n(J(e,a)),t.next=6,r();case 6:o=t.sent,n(z(e,o,a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),n(X(e,t.t0,a));case 13:case"end":return t.stop()}}),t,null,[[2,10]])}))),[r])}},tt=function(e){var t=e.useReducer,n=e.dispatch,r=e.getState,a=e.useStoreSpace;return function(e){var o,u=e.space,c=e.loader,l=e.submitter,d=e.onSaved,s=e.schema,v=e.initValue,f=Object(i.useMemo)((function(){return xe(null!==v&&void 0!==v?v:{})}),[v]);t(u,f);var p=null!==(o=a(u))&&void 0!==o?o:{},O=p.loading,b=p.submitting,j=p.value;Me(Object(Fe.a)(Pe.a.mark((function e(){var t,a,o,i,l,d,s,v;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c||!O){e.next=25;break}return o=null===(t=r())||void 0===t||null===(a=t[u])||void 0===a?void 0:a.reqId,e.prev=2,e.next=5,c();case 5:if(e.t1=i=e.sent,e.t0=null!==e.t1,!e.t0){e.next=9;break}e.t0=void 0!==i;case 9:if(!e.t0){e.next=13;break}e.t2=i,e.next=14;break;case 13:e.t2={};case 14:l=e.t2,d=l.success,s=l.data,v=l.message,n(d?z(u,s,o):X(u,null!==v&&void 0!==v?v:"Server Error",o)),e.next=25;break;case 21:e.prev=21,e.t3=e.catch(2),console.error("useForm -> load",e.t3),n(X(u,e.t3,o));case 25:case"end":return e.stop()}}),e,null,[[2,21]])}))),[Boolean(O)]),Me(Object(Fe.a)(Pe.a.mark((function e(){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c&&n(J(u));case 1:case"end":return e.stop()}}),e)}))),[c]),Me(Object(Fe.a)(Pe.a.mark((function e(){var t,a,o,c,i,s,v,f,p,O;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l||!b){e.next=25;break}return e.prev=1,c=null!==(t=null===(a=r())||void 0===a?void 0:a[u])&&void 0!==t?t:{},i=c.value,s=c.originalValue,e.next=5,l(i,s,b);case 5:if(e.t1=o=e.sent,e.t0=null!==e.t1,!e.t0){e.next=9;break}e.t0=void 0!==o;case 9:if(!e.t0){e.next=13;break}e.t2=o,e.next=14;break;case 13:e.t2={};case 14:v=e.t2,f=v.success,p=v.data,O=v.errors,f?(n(W(u,p)),d&&d(p)):n(Z(u,null!==O&&void 0!==O?O:[{message:"Server Error"}])),e.next=25;break;case 21:e.prev=21,e.t3=e.catch(1),console.error("FormActor -> submit",e.t3),n(Z(u,e.t3));case 25:case"end":return e.stop()}}),e,null,[[1,21]])}))),[Boolean(l),Boolean(b)]),Object(i.useEffect)((function(){s&&s.validate(j,{abortEarly:!1}).then((function(){n(ie(u,null))})).catch((function(e){var t=e.inner.map((function(e){var t=e.path;return{message:e.message,path:t?t.split("."):[]}}));n(ie(u,t))}))}),[s,j])}},nt=Object(Ue.a)(),rt=nt.reducer,at=nt.addReducer,ot=window.__REDUX_DEVTOOLS_EXTENSION__,ut=ot?Object(Ne.b)(Object(Ne.a)(Qe(Ke)),ot()):Object(Ne.a)(Qe(Ke)),ct=Object(Ne.c)(rt,{},ut),it=Object(Le.a)(ct),lt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return it(t)},dt=We(Object(be.a)(Object(be.a)({},ct),{},{addReducer:at})),st=et(Object(be.a)(Object(be.a)({},ct),{},{useReducer:dt})),vt=tt(Object(be.a)(Object(be.a)({},ct),{},{useReducer:dt,useStoreSpace:lt})),ft=function(e){var t=e.useReducer,n=e.dispatch,a=e.useStoreSpace;return function(e,o){var u;t(e,qe);var c=a(e),i=null!==c&&void 0!==c?c:r.OBJECT,l=null!==(u=null===i||void 0===i?void 0:i.filter)&&void 0!==u?u:r.OBJECT,d=i.sort,s=i.pagination,v=void 0!==c;Me(Object(Fe.a)(Pe.a.mark((function t(){var r,a,u,c,i;return Pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o||!v){t.next=25;break}return r="frh2_".concat(De++),n(J(e,r)),t.prev=3,t.next=6,o({filter:l,sort:d});case 6:if(t.t1=a=t.sent,t.t0=null!==t.t1,!t.t0){t.next=10;break}t.t0=void 0!==a;case 10:if(!t.t0){t.next=14;break}t.t2=a,t.next=15;break;case 14:t.t2={};case 15:u=t.t2,c=u.success,i=u.data,c?n(z(e,i,r)):(console.error("Result not success"),n(X(e,"Result not success",r))),t.next=25;break;case 21:t.prev=21,t.t3=t.catch(3),console.error(t.t3),n(X(e,t.t3,r));case 25:case"end":return t.stop()}}),t,null,[[3,21]])}))),[l,d,s,o,v])}}(Object(be.a)(Object(be.a)({},ct),{},{useReducer:dt,useStoreSpace:lt})),pt=Object(be.a)(Object(be.a)({},ct),{},{history:Ke,useReducer:dt,useResource:st,useFilteredResource:ft,useForm:vt,useAction:Ge(ct),useStoreSpace:lt,getSpaceState:function(e){var t;return null===(t=ct.getState())||void 0===t?void 0:t[e]}}),Ot=Object(i.createContext)(pt),bt=function(){return Object(i.useContext)(Ot)},jt=n(14),ht=n(3),yt={redirect:"/home"},gt=function(e){return e.map((function(e,t){return 0===t?"":null===e||""===e?"_":e})).join("/")},Et=function(e){var t=e.routes,n=e.path,r=e.isAuthCorrect,a=e.currentBack,o=Object(i.useMemo)((function(){return function(e,t,n,r){var a;if("/"===t)return{redirect:gt(["",e.index])};for(var o=(null!==(a=null===t||void 0===t?void 0:t.split("/"))&&void 0!==a?a:["",""]).map((function(e){return""===e||"_"===e?null:e})),u={},c=1;c<o.length;){var i;if(e.params){var l,d=Object(jt.a)(e.params);try{for(d.s();!(l=d.n()).done;)u[l.value]=o[c++]}catch(y){d.e(y)}finally{d.f()}if(c>=o.length)break}if(!(null===(i=e)||void 0===i?void 0:i.children))break;var s=o[c++],v=e.children[s];if(e.childKey&&(u[e.childKey]=s),!v)return console.error("Route not found for path: ".concat(gt(o)),e),yt;e=v}var f=e,O=f.layout,b=f.index,j=f.actor,h=f.needAuth;return O?!n&&h?{redirect:"/login?back=".concat(null!==r&&void 0!==r?r:t)}:{params:u,root:o.slice(0,c),restPath:o.slice(c),layout:O,actor:j}:b?{redirect:gt([].concat(Object(p.a)(o.slice(0,c)),[b]))}:(console.error("Route not found for path: ".concat(gt(o))),yt)}(t,n,r,a)}),[t,n,r,a]),u=o.params,c=o.root,l=o.restPath,d=o.layout,s=o.redirect,O=o.actor,b=Object(i.useState)({node:null}),j=Object(f.a)(b,2),h=j[0],y=j[1];return Object(i.useEffect)((function(){s||y((function(){return{node:Object(ht.jsxs)(ht.Fragment,{children:[d?d(c,l):null,O?Object(v.a)(O):null]}),params:u}}))}),[O,d,u,s]),Object(be.a)({redirect:s},h)};function mt(e){return e.reduce((function(e,t){return e.concat(Array.isArray(t)?mt(t):t)}),[])}var Tt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""];return[].concat(Object(p.a)((null===t||void 0===t?void 0:t.links)?Object.entries(t.links).map((function(e){var t=Object(f.a)(e,2),r=t[0],a=t[1];return{key:r,path:n,link:a}})):[]),Object(p.a)((null===t||void 0===t?void 0:t.children)?Object.entries(t.children).map((function(r){var a=Object(f.a)(r,2),o=a[0],u=a[1];return e(u,[].concat(Object(p.a)(n),Object(p.a)(t.params?t.params.map((function(){return null})):[]),[o]))})):[]))},St=function(e,t){var n=mt(Tt(e)).map((function(e){return[e.key,{link:e.link,path:e.path}]})),r=n.filter((function(e){var n=Object(f.a)(e,1)[0];return!t.includes(n)}));return r.length>0&&console.error("Incorrect Links ".concat(JSON.stringify(r,null,2))),Object.fromEntries(n)},_t="".length?function(e){return e&&"/".concat(null===e||void 0===e?void 0:e.slice("".length))}:function(e){return e},Rt=Object(i.memo)((function(){var e,t=bt(),n=t.dispatch,r=t.history,u=(0,t.useStoreSpace)(y),c=Object(i.useState)(_t(null===(e=r.location)||void 0===e?void 0:e.pathname)),l=Object(f.a)(c,2),d=l[0],s=l[1],v=null===u||void 0===u?void 0:u.success;Object(i.useLayoutEffect)((function(){var e=r.listen((function(e){s((function(){var t;return _t(null===(t=e.location)||void 0===t?void 0:t.pathname)})),window.scrollTo(0,0)}));return s((function(){var e;return _t(null===(e=r.location)||void 0===e?void 0:e.pathname)})),e}),[r]);var p=Object(i.useMemo)((function(){return{index:"home",links:Object(Se.a)({},j.ROOT,(function(){return"/"})),children:{home:{layout:function(){return"home"}},about:{layout:function(){return"about"}}}}}),[]);Object(i.useEffect)((function(){n(a.setLinks(St(p,Object.values(j))))}),[n,p]);var O=Et({routes:p,path:d,isAuthCorrect:v}),b=O.redirect,g=O.params,E=O.node;return Object(i.useEffect)((function(){b&&n(a.replaceAbs(b))}),[b]),Object(i.useEffect)((function(){b||n(o.set(h,g))}),[b,g]),console.log({redirect:b,params:g,node:E}),E})),At=u.valueReducer({}),It=function(){return(0,bt().useReducer)(h,At),null};var kt=function(){return Object(ht.jsxs)(ht.Fragment,{children:[Object(v.a)(It),Object(ht.jsx)(Rt,{})]})};s.a.render(Object(ht.jsx)(l.a.StrictMode,{children:Object(ht.jsx)(kt,{})}),document.getElementById("root"))}},[[26,1,2]]]);